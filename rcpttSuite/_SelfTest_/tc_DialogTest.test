--- RCPTT testcase ---
Format-Version: 1.0
Element-Name: tc_DialogTest
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _LNarkEaxEeWNSOmIUfjd6A
Runtime-Version: 2.0.0.201506120617
Save-Time: 8/19/15 1:46 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

// ----------------------------------------------------------------------------
// Self-Test for the Regression Suite
//
// 
// Executes the AGREE verification for Single Layer and expects a 
// "Problem Occurred" status dialog to pop up. 
//
// ----------------------------------------------------------------------------



// Very similar to the "run-agree-single-layer" in the helperProcs, except that
// this uses the check-problem-dialog instead of the assert-problem-dialog.
// This subtle difference allows us to check the return status and verify that
// the status dialog did pop up.
proc "dialog-test-run" [val item] {
    exec-with-options {
    	log [format "AGREE Verify Single Layer: %s" [$item | get-text]]
	    $item | select-item | get-menu "AGREE/Verify Single Layer" | click    
        check-problem-dialog | verify-false
    } -allowStatusDialog
}


// Start the test
test-setup

select-aadl-file "SelfTest/DialogTest.aadl"

dialog-test-run [get-sys-impl "Package Public DialogTest_public/System Impl sys.impl"]

test-teardown

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
